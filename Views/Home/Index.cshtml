@model List<Dashboard.Models.Widgets.IWidget>
@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager
@{
    ViewData["Title"] = "Home Page";
}

@if (SignInManager.IsSignedIn(User))
{

    <div id="refreshColumn">
        @await Html.PartialAsync("_columns", Model)
    </div>
    @*<div class="card-columns" id="refreshme">
        await Html.PartialAsync("_Data", Model)
    </div>
    <script type="text/javascript">
        function refresh() {
            $.get('/home/data', function (result) {
                $('#refreshme').html(result);
                });
            }
            setInterval(refresh, 3000)
    </script>
    *@
}
else
{
<div class="text-center">
    <h1>Dashboard</h1>
    <p>Create your own dashboard with youtube, steam and weathers services</p>
    <a href="Identity/Account/Login" class="btn btn-lg btn-secondary">Login</a>
    <a href="Identity/Account/Register" class="btn btn-lg btn-secondary">Register</a>
</div>
}
